javascript:(()=>{const G=(()=>{if(window._gallery)return _gallery;for(const s of document.scripts)if(s.textContent.includes("_gallery"))try{const m=s.textContent.match(/_gallery\s*=\s*JSON\.parse\((.+?)\);/s);if(m)return JSON.parse(eval(m[1]))}catch{}return null})();if(!G)return alert("Gallery not found");const id=G.media_id,tp=G.num_pages,pg=G.images.pages,map={j:"jpg",p:"png",w:"webp"},sv=[...Array(9)].map((_,i)=>"i"+(i+1));document.body.insertAdjacentHTML("beforeend",`<style>#ov{position:fixed;inset:0;background:rgba(0,0,0,.7);z-index:9998}#ui{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:#1e1e1e;color:#fff;padding:16px;border-radius:12px;width:260px;font-family:Arial;z-index:9999}#ui h3{margin:0 0 10px;font-size:18px;text-align:center;color:#ffcc00}#ui input,#ui button{width:100%;margin:6px 0;padding:8px;border-radius:6px;border:none;font-size:14px}#ui button{background:#ff4081;color:#fff;font-weight:bold}#close{position:absolute;top:8px;right:10px;cursor:pointer;font-size:16px}img{width:100%;display:block;margin-bottom:6px}#l{position:fixed;bottom:15px;right:15px;background:#fff;color:#000;padding:6px 10px;border-radius:20px;font-size:14px;z-index:9999}</style><div id=ov></div><div id=ui><div id=close>✕</div><h3>Load Pages</h3><label>Start page</label><input id=sp type=number value=1 min=1><label>End page</label><input id=ep type=number value=${tp} min=1 max=${tp}><button id=go>Load</button></div>`);close.onclick=()=>{ov.remove();ui.remove()};go.onclick=async()=>{let s=+sp.value||1,e=+ep.value||tp;if(s<1)s=1;if(e>tp)e=tp;if(s>e)return alert("Invalid range");document.body.innerHTML="<style>body{margin:0;background:#121212}img{width:100%;display:block;margin-bottom:6px}#l{position:fixed;bottom:15px;right:15px;background:#fff;color:#000;padding:6px 10px;border-radius:20px;font-size:14px;z-index:9999}</style><div id=c></div><div id=l>⏳</div>";const c=document.getElementById("c"),l=document.getElementById("l");const detect=()=>Promise.any(sv.map(x=>new Promise((r,j)=>{const i=new Image;i.onload=()=>r(x);i.onerror=()=>j();i.src=`https://${x}.nhentai.net/galleries/${id}/1.${map[pg[0].t]}`})));let srv;try{srv=await detect()}catch{return alert("Server not found")};for(let p=s;p<=e;p++){await new Promise(res=>{const img=new Image();img.onload=()=>res();img.onerror=()=>res();img.src=`https://${srv}.nhentai.net/galleries/${id}/${p}.${map[pg[p-1].t]}`;const el=document.createElement("img");el.src=img.src;el.loading="lazy";c.appendChild(el);l.textContent="⏳ "+p})}l.remove()};})();
